syntax = "proto3";

package com.fanaujie.ripple.protobuf;

option java_multiple_files = true;
option java_package = "com.fanaujie.ripple.protobuf.msggateway";


enum PushMessageType {
  PUSH_MESSAGE_TYPE_UNSPECIFIED = 0;
  PUSH_MESSAGE_TYPE_SELF_INFO_UPDATE = 1;
  PUSH_MESSAGE_TYPE_RELATION_INFO_UPDATE = 2;
}

message PushMessageRequest {
  PushMessageType push_message_type = 1;
  int64 send_user_id = 2;
  int64 receive_user_id = 3;
  string request_device_id = 4;
  bytes content = 5;
}

message PushMessageResponse {
  int64 send_user_id = 1;
  int64 receive_user_id = 2 ;
  bool  is_success = 3;
  string error_msg = 4;
}

service MessageGateway {
  rpc PushMessageToUser(stream PushMessageRequest) returns (stream PushMessageResponse);
}